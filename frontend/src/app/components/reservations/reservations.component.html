<div class="reservations-container px-3 py-4">
  <h2 class="reservations-title">ğŸ—“ï¸ Mis Reservas</h2>

  <!-- Grid de tarjetas -->
  <div class="row g-4">
    @for (reservation of reservations; track reservation._id) {
      <div class="col-12 col-md-6 col-lg-4 d-flex">
        <div class="reservation-card hover-shadow w-100 d-flex flex-column">

          <!-- Encabezado con nombre y estado -->
          <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="card-name mb-0">{{ reservation.restaurante?.nombre || 'â€”' }}</h5>
            @if (reservation.estado === 'pendiente') {
              <span class="badge bg-warning text-dark">â³ Pendiente</span>
            } @else if (reservation.estado === 'confirmada') {
              <span class="badge bg-success">âœ… Confirmada</span>
            } @else {
              <span class="badge bg-secondary">âŒ Cancelada</span>
            }
          </div>

          <!-- Body con detalles -->
          <div class="card-body flex-grow-1">
            <p class="mb-2">
              ğŸ“… <strong>Fecha:</strong>
              {{ reservation.fecha | date:'fullDate' }}<br />
              ğŸ•’ {{ reservation.fecha | date:'shortTime' }}
            </p>
            <p class="mb-0">
              ğŸ‘¥ <strong>Personas:</strong> {{ reservation.numeroPersonas }}
            </p>
          </div>

          <!-- Footer con acciones -->
          <div class="card-footer d-flex gap-2">
            @if (userRole === 'usuario') {
              <a
                [routerLink]="['/edit-reservation', reservation._id]"
                class="btn btn-edit flex-fill"
              >
                âœï¸ Editar
              </a>
            }
            <button
              class="btn btn-cancel flex-fill"
              (click)="deleteReservation(reservation._id)"
            >
              ğŸ—‘ï¸ Cancelar
            </button>
          </div>

        </div>
      </div>
    }
  </div>

  <!-- Empty state -->
  @if (reservations.length === 0) {
    <p class="text-center text-muted mt-5">No tienes reservas aÃºn.</p>
  }
</div>
